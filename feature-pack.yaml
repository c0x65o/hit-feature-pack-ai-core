# Feature Pack: ai-assistant
# Global AI assistant overlay that can be mounted once at the shell level.

name: ai-assistant
version: 1.0.0
description: Global AI assistant overlay for HIT apps (shell-level)

# A tiny hidden route exists purely as an install signal (so the app shell can
# detect this pack is enabled via .hit/generated/routes.ts) without relying on
# hit-config having a feature_packs list.
routes:
  - path: /__ai
    page: AiDebug
    roles: []

# No nav contributions (overlay is global, not a sidebar item)
nav: []

requires:
  modules:
    - ai

# API routes provided by this pack (AI control plane).
# These are installed into the app as thin wrappers that re-export the server
# handlers from this package, keeping apps clean and feature packs portable.
api:
  routes:
    - path: /api/ai/endpoints
      methods: [GET]
      handler: "@hit/feature-pack-ai-assistant/server/api/endpoints"
      description: "Capabilities catalog (generated endpoints + modules)."
    - path: /api/ai/endpoints-search
      methods: [GET]
      handler: "@hit/feature-pack-ai-assistant/server/api/endpoints-search"
      description: "Search endpoints by natural language query."
    - path: /api/ai/methods
      methods: [GET]
      handler: "@hit/feature-pack-ai-assistant/server/api/methods"
      description: "LLM-friendly method catalog derived from capabilities."
    - path: /api/ai/methods-search
      methods: [GET]
      handler: "@hit/feature-pack-ai-assistant/server/api/methods-search"
      description: "Search methods by natural language query."
    - path: /api/ai/tools
      methods: [GET]
      handler: "@hit/feature-pack-ai-assistant/server/api/tools"
      description: "Legacy tool surface (deprecated; wraps methods)."
    - path: /api/ai/execute
      methods: [POST]
      handler: "@hit/feature-pack-ai-assistant/server/api/execute"
      description: "Execute an approved method (http.request/http.bulk)."
    - path: /api/proxy/ai/[...path]
      methods: [GET, POST, PUT, PATCH, DELETE, OPTIONS]
      handler: "@hit/feature-pack-ai-assistant/server/api/proxy-ai"
      description: "Authenticated proxy override for the ai module."

config:
  schema:
    enabled:
      type: boolean
      default: true
      description: Enable the AI overlay
    model:
      type: string
      default: gpt-4o-mini
      description: Default model for chat
